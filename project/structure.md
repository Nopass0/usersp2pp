# Структура проекта

## Основные директории

- **/src**: Основной исходный код приложения
  - **/app**: Страницы приложения (Next.js App Router)
    - **/page.tsx**: Главная страница (для авторизованных пользователей)
    - **/(auth)**: Группа страниц авторизации
      - **/login/page.tsx**: Страница входа в систему
    - **/dashboard**: Страница дашборда (перенаправляется на главную)
  - **/components**: Компоненты пользовательского интерфейса
    - **/auth**: Компоненты для авторизации
      - **/login-form.tsx**: Форма входа
    - **/dashboard**: Компоненты для рабочего стола
      - **/start-session-dialog.tsx**: Диалоговое окно начала сессии
      - **/work-session-list.tsx**: Список рабочих сессий
    - **/ui**: Базовые UI компоненты (shadcn-ui)
  - **/server**: Серверная логика
    - **/api**: API роутеры и логика
      - **/routers**: TRPC роутеры
        - **/auth.ts**: Роутер авторизации
        - **/work-session.ts**: Роутер рабочих сессий
        - **/idex-cabinet.ts**: Роутер кабинетов Idex
        - **/transaction.ts**: Роутер транзакций
      - **/root.ts**: Корневой TRPC роутер
  - **/store**: Хранилища состояния (Zustand)
    - **/auth-store.ts**: Хранилище состояния авторизации
  - **/trpc**: Настройка TRPC клиента
  - **/middleware.ts**: Middleware для проверки авторизации
- **/prisma**: Схема базы данных и миграции
  - **/schema.prisma**: Определение схемы Prisma
- **/project**: Документация проекта
  - **/history.md**: История изменений
  - **/structure.md**: Структура проекта
  - **/tech.md**: Используемые технологии
  - **/requests.md**: Архив запросов и ответов

## Основные потоки данных

1. **Авторизация**: 
   - Пользователь вводит код доступа на странице входа
   - Код отправляется в API роутер auth.login
   - При успешной аутентификации пользователь перенаправляется на главную страницу
   - Данные пользователя хранятся в Zustand хранилище и cookies

2. **Рабочие сессии**:
   - На главной странице пользователь может начать новую рабочую сессию
   - Выбор кабинета Idex и создание сессии через API роутер work-session.startSession
   - Отображение активной сессии и возможность ее завершения через API роутер work-session.endSession
   - Отображение истории рабочих сессий через API роутер work-session.getUserSessions

3. **Отображение транзакций**:
   - Отображение количества транзакций Telegram и Bybit на главной странице
   - Данные запрашиваются через API роутеры transaction.getTelegramTransactionsCount и transaction.getBybitTransactionsCount
